
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Observational Data &#8212; Causal Inference Tutorial</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial/observational_data';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Synthetic Health Dataset for Causal Inference Tutorial" href="causal_inference.html" />
    <link rel="prev" title="Case Study: Simpson’s Paradoxon" href="case_study.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
  
    <p class="title logo__title">Causal Inference Tutorial</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Causal Inference Tutorial: Brainstorming
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="motivation.html">Motivation and Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="confounding.html">Confounding and DAGs</a></li>
<li class="toctree-l1"><a class="reference internal" href="case_study.html">Case Study: Simpson’s Paradoxon</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Observational Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="causal_inference.html">Synthetic Health Dataset for Causal Inference Tutorial</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/tbluemlein/causalinference/gh-pages?urlpath=tree/tutorial/observational_data.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/tbluemlein/causalinference/blob/gh-pages/tutorial/observational_data.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/tutorial/observational_data.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Observational Data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#from-observational-data-to-conditionally-randomized-experiments">From Observational Data to Conditionally Randomized Experiments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-outcomes-framework">Potential Outcomes Framework</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assumptions">Assumptions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#consistency"><strong>(1) Consistency</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stable-unit-treatment-value-assumption-sutva"><strong>(2) Stable Unit Treatment Value Assumption (SUTVA)</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#positivity"><strong>(3) Positivity</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#exchangeability-no-unobserved-confounding"><strong>(4) Exchangeability (No unobserved confounding)</strong>:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-checks">Validation Checks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-generation">Data Generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-of-positivity-assumption">Validation of Positivity Assumption</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-of-exchangeability-assumption">Validation of Exchangeability Assumption</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="observational-data">
<h1>Observational Data<a class="headerlink" href="#observational-data" title="Link to this heading">#</a></h1>
<section id="from-observational-data-to-conditionally-randomized-experiments">
<h2>From Observational Data to Conditionally Randomized Experiments<a class="headerlink" href="#from-observational-data-to-conditionally-randomized-experiments" title="Link to this heading">#</a></h2>
<p>Causal inference from observational data relies on the idea that, under the assumptions of the <strong>Rubin Causal Model</strong> (Rubin, 1978), an observational study can be regarded as a <em>conditionally randomized experiment</em>.</p>
<p>Under the assumptions of ignorability (see below), the observed data represent the essential features of a randomized experiment, enabling the identification and consistent estimation of causal effects within the <strong>potential outcomes framework</strong>.</p>
</section>
<section id="potential-outcomes-framework">
<h2>Potential Outcomes Framework<a class="headerlink" href="#potential-outcomes-framework" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>(Neyman, 1923; Rubin, 1974 and 1978): Rubin extended Neyman’s theory for randomized experiments to observational studies.</p></li>
<li><p>Specifically, when treatment assignment is <strong>strongly ignorable</strong> given a set of observed covariates — that is, when the following two conditions hold:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
(Y(1), Y(0)) \perp T \mid X
\]</div>
<div class="math notranslate nohighlight">
\[
0 &lt; P(T = 1 \mid X) &lt; 1,
\]</div>
<p>then conditioning on <span class="math notranslate nohighlight">\(X\)</span> renders the treatment assignment mechanism analogous to that of a randomized controlled trial. More explanation in <a class="reference external" href="https://www.uniqcret.com/post/causal-inference-assumptions-guide.">assumptions guide</a> and in <a class="reference external" href="https://www.bradyneal.com/Introduction_to_Causal_Inference-Aug27_2020-Neal.pdf">2020 Neal</a></p>
<section id="assumptions">
<h3>Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading">#</a></h3>
<section id="consistency">
<h4><strong>(1) Consistency</strong>:<a class="headerlink" href="#consistency" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[
Y(A) = Y(a) = Y \quad \text{when } A = a
\]</div>
<p>links the potential outcomes to the observed outcomes by requiring that the two are equal under the same treatment assignments. This ties the potential outcome <span class="math notranslate nohighlight">\(Y(a)\)</span> to the factual outcome <span class="math notranslate nohighlight">\(Y\)</span> when the treatment actually received is <span class="math notranslate nohighlight">\(A = a\)</span>.</p>
</section>
<section id="stable-unit-treatment-value-assumption-sutva">
<h4><strong>(2) Stable Unit Treatment Value Assumption (SUTVA)</strong>:<a class="headerlink" href="#stable-unit-treatment-value-assumption-sutva" title="Link to this heading">#</a></h4>
<p>SUTVA combines consistency and no interference. The <strong>no interference</strong> assumption states that:</p>
<div class="math notranslate nohighlight">
\[
Y_i(a_i) \text{ depends only on } a_i \text{ (not on } a_j \text{ for } j \neq i)
\]</div>
<p>implies that there is no interference between treatment assignment and outcomes across patients. In the assumption of consistency, we are implicitly making the assumption of no interference; that is, whether one individual receives treatment (or not) has no effect on the potential outcomes of any other individual. This is encapsulated by the usual statistical ‘i.i.d.’ assumption, but it can easily be violated in a study of the effect of a vaccine or if a treatment is assigned at a group level.</p>
</section>
<section id="positivity">
<h4><strong>(3) Positivity</strong>:<a class="headerlink" href="#positivity" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[
0 &lt; P(T = 1 \mid X) &lt; 1 \quad \text{with probability } 1
\]</div>
<p>or more strictly (strict positivity):</p>
<div class="math notranslate nohighlight">
\[
\varepsilon &lt; P(T = 1 \mid X) &lt; 1 - \varepsilon \quad \text{with probability } 1, \text{ for some } \varepsilon &gt; 0
\]</div>
<p>This states that, for any possible patient characteristic, treatment assignment is not deterministic. For all but a measure zero subset of the population, the probability of receiving treatment <strong>and</strong> of receiving control is non-zero.</p>
</section>
<section id="exchangeability-no-unobserved-confounding">
<h4><strong>(4) Exchangeability (No unobserved confounding)</strong>:<a class="headerlink" href="#exchangeability-no-unobserved-confounding" title="Link to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[
Y(a) \perp\!\!\!\perp A \mid X \quad \text{for all } a \in \mathcal{A}
\]</div>
<p>or equivalently:</p>
<div class="math notranslate nohighlight">
\[
(Y(1), Y(0)) \perp\!\!\!\perp A \mid X
\]</div>
<p>This implies that conditioning on the patient characteristics (covariates <span class="math notranslate nohighlight">\(X\)</span>) is sufficient to remove confounding bias in estimated HTEs. This is also called <em>conditional exchangeability</em>, <em>conditional ignorability</em>, or <em>causal sufficiency</em>.</p>
<p>By exchangeability <span class="math notranslate nohighlight">\((4)\)</span> and consistency <span class="math notranslate nohighlight">\((1)\)</span>, the estimation of the average (causal) treatment effect can be done based on observed data:</p>
<div class="math notranslate nohighlight">
\[
\mathbb{E}[Y(a)|T=t] 
\overset{(4)}{=}\mathbb{E}[Y(a)|T=t, X=x]
\overset{(1)}{=}\mathbb{E}[Y|T=t, X=x]
\]</div>
</section>
</section>
</section>
<section id="validation-checks">
<h2>Validation Checks<a class="headerlink" href="#validation-checks" title="Link to this heading">#</a></h2>
<p>diagnostics (Peters 3.3, 6.4, 6.9; Shalizi (2019). Advanced Data Analysis from an Elementary Point of View.
Chapter 21.1.3-21.1.5):</p>
<ul class="simple">
<li><p>consistency</p></li>
<li><p>SUTVA</p></li>
<li><p>positivity</p></li>
<li><p>exchangeability</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">networkx</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nx</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_subplots</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">ttest_ind</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.special</span><span class="w"> </span><span class="kn">import</span> <span class="n">expit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">utils</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly</span>

<span class="n">plotly</span><span class="o">.</span><span class="n">offline</span><span class="o">.</span><span class="n">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.2.0.min"</script>
        </div></div>
</div>
</section>
<section id="data-generation">
<h2>Data Generation<a class="headerlink" href="#data-generation" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- 1. Synthetic Data Generation ---</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>  <span class="c1"># Number of observations</span>
<span class="n">ATE</span> <span class="o">=</span> <span class="mf">5.0</span> <span class="c1"># Average Treatment Effect</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Coefficients for the causal model</span>
<span class="n">beta_x1_t</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">beta_x2_t</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">beta_x1_y</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">beta_x2_y</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">intercept_t</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.5</span>
<span class="n">intercept_y</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">beta_x1_t_v</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># High coefficient for violation</span>
<span class="n">beta_x2_t_v</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># High coefficient for violation</span>
<span class="n">intercept_t_v</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># Generate Covariates (X)</span>
<span class="n">X1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="c1"># Generate 8 more covariates</span>
<span class="n">X3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span> <span class="c1"># Categorical-like</span>
<span class="n">X6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X7</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">poisson</span><span class="p">(</span><span class="n">lam</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X8</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X9</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">X10</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="c1"># Calculate Propensity Scores</span>

<span class="c1"># 1. Good Positivity (Mild dependence on X)</span>
<span class="c1"># Add new covariates to the linear predictor for &#39;good&#39; treatment assignment</span>
<span class="n">linear_predictor_t</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">intercept_t</span>
    <span class="o">+</span> <span class="p">(</span><span class="n">beta_x1_t</span> <span class="o">*</span> <span class="p">(</span><span class="n">X1</span> <span class="o">-</span> <span class="n">X1</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X1</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
    <span class="o">+</span> <span class="p">(</span><span class="n">beta_x2_t</span> <span class="o">*</span> <span class="n">X2</span><span class="p">)</span>
    <span class="o">+</span> <span class="p">(</span><span class="mf">0.1</span> <span class="o">*</span> <span class="p">(</span><span class="n">X3</span> <span class="o">-</span> <span class="n">X3</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X3</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="c1"># Small effect</span>
    <span class="o">+</span> <span class="p">(</span><span class="mf">0.2</span> <span class="o">*</span> <span class="p">(</span><span class="n">X4</span> <span class="o">-</span> <span class="n">X4</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X4</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="c1"># Small effect</span>
<span class="p">)</span>
<span class="n">prob_t</span> <span class="o">=</span> <span class="n">expit</span><span class="p">(</span><span class="n">linear_predictor_t</span><span class="p">)</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">prob_t</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="c1"># 2. Bad Positivity (Extreme dependence on X)</span>
<span class="c1"># Add new covariates to the linear predictor for &#39;violate&#39; treatment assignment (with higher coefficients)</span>
<span class="n">linear_predictor_t_v</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">intercept_t_v</span>
    <span class="o">+</span> <span class="p">(</span><span class="n">beta_x1_t_v</span> <span class="o">*</span> <span class="p">(</span><span class="n">X1</span> <span class="o">-</span> <span class="n">X1</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X1</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
    <span class="o">+</span> <span class="p">(</span><span class="n">beta_x2_t_v</span> <span class="o">*</span> <span class="n">X2</span><span class="p">)</span>
    <span class="o">+</span> <span class="p">(</span><span class="mf">1.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">X3</span> <span class="o">-</span> <span class="n">X3</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X3</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="c1"># Larger effect</span>
    <span class="o">+</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">X4</span> <span class="o">-</span> <span class="n">X4</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">X4</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="c1"># Larger effect</span>
    <span class="o">+</span> <span class="p">(</span><span class="mf">0.8</span> <span class="o">*</span> <span class="n">X5</span><span class="p">)</span> <span class="c1"># Larger effect for categorical</span>
<span class="p">)</span>
<span class="n">prob_t_violate</span> <span class="o">=</span> <span class="n">expit</span><span class="p">(</span><span class="n">linear_predictor_t_v</span><span class="p">)</span>
<span class="n">T_Violate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">prob_t_violate</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>

<span class="c1"># Create DataFrame including all covariates</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;X1&#39;</span><span class="p">:</span> <span class="n">X1</span><span class="p">,</span>
    <span class="s1">&#39;X2&#39;</span><span class="p">:</span> <span class="n">X2</span><span class="p">,</span>
    <span class="s1">&#39;X3&#39;</span><span class="p">:</span> <span class="n">X3</span><span class="p">,</span>
    <span class="s1">&#39;X4&#39;</span><span class="p">:</span> <span class="n">X4</span><span class="p">,</span>
    <span class="s1">&#39;X5&#39;</span><span class="p">:</span> <span class="n">X5</span><span class="p">,</span>
    <span class="s1">&#39;X6&#39;</span><span class="p">:</span> <span class="n">X6</span><span class="p">,</span>
    <span class="s1">&#39;X7&#39;</span><span class="p">:</span> <span class="n">X7</span><span class="p">,</span>
    <span class="s1">&#39;X8&#39;</span><span class="p">:</span> <span class="n">X8</span><span class="p">,</span>
    <span class="s1">&#39;X9&#39;</span><span class="p">:</span> <span class="n">X9</span><span class="p">,</span>
    <span class="s1">&#39;X10&#39;</span><span class="p">:</span> <span class="n">X10</span><span class="p">,</span>
    <span class="s1">&#39;T_Treatment&#39;</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="s1">&#39;T_Violate_Positivity&#39;</span><span class="p">:</span> <span class="n">T_Violate</span><span class="p">,</span>
    <span class="s1">&#39;P_Propensity_Score_Good&#39;</span><span class="p">:</span> <span class="n">prob_t</span><span class="p">,</span>
    <span class="s1">&#39;P_Propensity_Score_Violate&#39;</span><span class="p">:</span> <span class="n">prob_t_violate</span>
<span class="p">})</span>

<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X1</th>
      <th>X2</th>
      <th>X3</th>
      <th>X4</th>
      <th>X5</th>
      <th>X6</th>
      <th>X7</th>
      <th>X8</th>
      <th>X9</th>
      <th>X10</th>
      <th>T_Treatment</th>
      <th>T_Violate_Positivity</th>
      <th>P_Propensity_Score_Good</th>
      <th>P_Propensity_Score_Violate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>44.967142</td>
      <td>0</td>
      <td>21.906881</td>
      <td>8.786599</td>
      <td>4</td>
      <td>2.594468</td>
      <td>2</td>
      <td>0.123125</td>
      <td>52.142193</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0.186779</td>
      <td>0.973667</td>
    </tr>
    <tr>
      <th>1</th>
      <td>38.617357</td>
      <td>0</td>
      <td>3.672136</td>
      <td>10.422567</td>
      <td>3</td>
      <td>2.009630</td>
      <td>4</td>
      <td>0.864453</td>
      <td>47.578047</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.154556</td>
      <td>0.357944</td>
    </tr>
    <tr>
      <th>2</th>
      <td>46.476885</td>
      <td>1</td>
      <td>10.802575</td>
      <td>12.400158</td>
      <td>1</td>
      <td>3.812620</td>
      <td>0</td>
      <td>0.453005</td>
      <td>47.091020</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.479882</td>
      <td>0.997901</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55.230299</td>
      <td>1</td>
      <td>33.886065</td>
      <td>9.016195</td>
      <td>4</td>
      <td>0.319852</td>
      <td>4</td>
      <td>0.083726</td>
      <td>49.157490</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.529235</td>
      <td>0.999997</td>
    </tr>
    <tr>
      <th>4</th>
      <td>37.658466</td>
      <td>0</td>
      <td>80.258568</td>
      <td>6.246895</td>
      <td>1</td>
      <td>1.507062</td>
      <td>1</td>
      <td>2.180253</td>
      <td>44.745755</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.131278</td>
      <td>0.325387</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># DAG Plot</span>
<span class="n">causal_model</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;X1 -&gt; T&#39;</span><span class="p">:</span> <span class="n">beta_x1_t</span><span class="p">,</span>
    <span class="s1">&#39;X2 -&gt; T&#39;</span><span class="p">:</span> <span class="n">beta_x2_t</span><span class="p">,</span>
    <span class="s1">&#39;X1 -&gt; Y&#39;</span><span class="p">:</span> <span class="n">beta_x1_y</span><span class="p">,</span>
    <span class="s1">&#39;X2 -&gt; Y&#39;</span><span class="p">:</span> <span class="n">beta_x2_y</span><span class="p">,</span>
    <span class="s1">&#39;T -&gt; Y&#39;</span><span class="p">:</span> <span class="n">ATE</span>
<span class="p">}</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Causal Model (DAG Structure and Weights):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">causal_model</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">weight</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">causal_model_violate_positivity</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;X1 -&gt; T&#39;</span><span class="p">:</span> <span class="n">beta_x1_t_v</span><span class="p">,</span>
    <span class="s1">&#39;X2 -&gt; T&#39;</span><span class="p">:</span> <span class="n">beta_x2_t_v</span><span class="p">,</span>
    <span class="s1">&#39;X1 -&gt; Y&#39;</span><span class="p">:</span> <span class="n">beta_x1_y</span><span class="p">,</span>
    <span class="s1">&#39;X2 -&gt; Y&#39;</span><span class="p">:</span> <span class="n">beta_x2_y</span><span class="p">,</span>
    <span class="s1">&#39;T -&gt; Y&#39;</span><span class="p">:</span> <span class="n">ATE</span>
<span class="p">}</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Causal Model with violated positivity(DAG Structure and Weights):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">causal_model_violate_positivity</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">weight</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Causal Model (DAG Structure and Weights):
X1 -&gt; T: 0.5
X2 -&gt; T: 1.0
X1 -&gt; Y: 1.0
X2 -&gt; Y: 2.0
T -&gt; Y: 5.0
Causal Model with violated positivity(DAG Structure and Weights):
X1 -&gt; T: 5.0
X2 -&gt; T: 3.0
X1 -&gt; Y: 1.0
X2 -&gt; Y: 2.0
T -&gt; Y: 5.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot 1: Causal DAG of Normal Model</span>
<span class="n">plot_causal_dag</span><span class="p">(</span><span class="n">causal_model</span><span class="p">,</span> <span class="s1">&#39;Causal DAG of Normal Model&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>


<span class="c1"># Plot 2: Causal DAG with Violated Positivity</span>
<span class="n">plot_causal_dag</span><span class="p">(</span><span class="n">causal_model_violate_positivity</span><span class="p">,</span> <span class="s1">&#39;Causal DAG with Violated Positivity&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5cec9a0afe7130813125e9056a4a4facc7a373fc2bded361638036655decd007.png" src="../_images/5cec9a0afe7130813125e9056a4a4facc7a373fc2bded361638036655decd007.png" />
<img alt="../_images/6e656008e08e4d18e56135b3cf4e989e7dffe3ca8db6715fb469bb8c68c69043.png" src="../_images/6e656008e08e4d18e56135b3cf4e989e7dffe3ca8db6715fb469bb8c68c69043.png" />
</div>
</div>
</section>
<section id="validation-of-positivity-assumption">
<h2>Validation of Positivity Assumption<a class="headerlink" href="#validation-of-positivity-assumption" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Plotly Boxplot Execution and Display ---</span>
<span class="c1"># Create boxplot for Good Overlap</span>
<span class="n">fig_boxplot_good</span> <span class="o">=</span> <span class="n">plot_propensity_score_boxplots</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="s1">&#39;P_Propensity_Score_Good&#39;</span><span class="p">,</span>
    <span class="s1">&#39;T_Treatment&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Boxplots of Propensity Scores: Good Positivity&#39;</span>
<span class="p">)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">offline</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig_boxplot_good</span><span class="p">)</span>

<span class="c1"># Create boxplot for Severe Violation</span>
<span class="n">fig_boxplot_violate</span> <span class="o">=</span> <span class="n">plot_propensity_score_boxplots</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="s1">&#39;P_Propensity_Score_Violate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;T_Violate_Positivity&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Boxplots of Propensity Scores: Violation of Positivity&#39;</span>
<span class="p">)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">offline</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig_boxplot_violate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.2.0.min.js" integrity="sha256-iZ2u/oU2wf/vDbl/ChcX93WgbBRSBvUO6N413hDz7xM=" crossorigin="anonymous"></script>                <div id="14e2ef16-6074-4423-ac3a-2fb957181dff" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("14e2ef16-6074-4423-ac3a-2fb957181dff")) {                    Plotly.newPlot(                        "14e2ef16-6074-4423-ac3a-2fb957181dff",                        [{"boxpoints":false,"hovertemplate":"\u003cb\u003e%{y.name}\u003c\u002fb\u003e\u003cbr\u003eMin: %{y.min:.4f}\u003cbr\u003eQ1: %{y.q1:.4f}\u003cbr\u003eMedian: %{y.median:.4f}\u003cbr\u003eQ3: %{y.q3:.4f}\u003cbr\u003eMax: %{y.max:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"forestgreen"},"name":"Control","y":{"dtype":"f8","bdata":"vdn7AV7oxz9PvoG8f8jDP3yQzCxitt4\u002fOoX5sn7v4D+LN0ABuc3AP\u002f8nHyLDitM\u002fedswbkTv1D+te3IJchrPPzyfkjXpdco\u002fg\u002f1PLkaVyz8YyiMnJCq4P5Hy6a\u002fBcdE\u002fSszxKgUF1j\u002fZ1t5vNg\u002fJP7aEDMUw774\u002fRavWrDItxz+wcxvXohDNPxg5Anz8qtA\u002fszjimcDBzz9dbIMVrU3EP2e\u002fmwQOrMg\u002f3u0QDdgo4z+vt3UMo1u3P58ez6SQmc8\u002fWzO1ldC7zT9HiO9d7p7JP3X3kwaLVdE\u002f3GACRjss3D9D\u002fWNDbqTAP7JGG0yYQcU\u002fls74sCO7vD9eUWyn3obQP3xYqRx5qN0\u002fXI8FeqVWsz8tecXCoMe9P5+1bLGQktM\u002fVCq5w6nWzT9\u002f7kpfTDTePzdsaHfDwdY\u002fFNwUEo4pwj8vnCJWo6faPzsZdyWld9M\u002fKSGb8V68vT+gLg1siQe7PybYKqsgR9g\u002fy5J5nxH90D+xqzG1ZybYP3su4Th6Hrg\u002fmEbwqupj2z+CFQAW5nPgPyymrV2s18c\u002f1BzbyZEH2D9QB0XL0zbAP5S3KDGyE9M\u002f2tmJ08dKwj8Ghzgv0YTFP6547RhL7b4\u002fb2qiEcgixT8ZQ\u002fZ2pMDGP8iMVil9Z8M\u002fJhKBODUixD98RpoV4RzNP109acmpJtQ\u002fo6pGNLOdzj8QQvV8d+DLPwJjyGaqf8c\u002fC32qYHvavz8X3CiI6+e0P9AhOC\u002fF28Y\u002flyr1gw5Fyz8rM2A6BqDZP3\u002fmk4sc6ro\u002f9geynSfZuj9ZnbZqV\u002fjXP2aybFx+A8Y\u002f4Q5UbCHBzD8vF1mJ20HLPwFDdSpDMcc\u002fDkk9Odhx1j\u002f5LUINzqDnP0wnlISQvcM\u002f6Y+WSyEOzj+5U7dnMZ\u002fIPxbr\u002fTlfq7I\u002f9STc2s8i0z\u002fZhoBybBfaP1aLMsTi6tA\u002fJgEylAaTvz\u002fBPCl6vLjMP1Bp0FcO5NE\u002f0AcgVBrl1T+EnxmAsR67PyC4Tjz44sY\u002fOmWYseGd3T+azLj1hEfWP3SbfUHKr7g\u002fNvKfn5dCzD8xzRw4TmDcP4kv7X2ctcM\u002fpClH8Iqb2z9XwvNsG+7EP6qFQHWbQdI\u002fd\u002fYpru7Btz\u002fppjru\u002fGLHPwvTARQoJ74\u002fL7SeR20r2j8sg1UptJfbPwXivCFBJdE\u002fkPcMJeyv0D\u002fnFB3iep2\u002fP2dGsLDYctQ\u002fMIZiit+oxz8Hh4anT2nZP8wjfJy3C9I\u002f\u002fTIm0e0D0D9Ue0Lw\u002ftC7Pxx\u002fxJrL4tk\u002f8U84jMZa0T+48l854KHcP7BxGw0U+84\u002fQrQZRZJH0z\u002fwJezT\u002febUP7rK2KKI3to\u002fliWfdZHd0j9R99PIcILXP\u002fmiG704mL4\u002fsqMHjjpT2j\u002fydO1aK9veP+nGjUFGwdk\u002fgeBMC\u002fNLwz94DswUPC\u002faP3\u002fZtkv8lNI\u002fzmraWSuqzT9I+8Vf2F\u002fQPzqzzx8xs9c\u002ftVBGMccAzz99kKMzo2PKPy3mTgl+E8E\u002f3hC6WYnguT\u002fsSFBepMDAPxP3jAft1dw\u002fr28akxwpyD+wpX6oOJ+6PwaXwN\u002fRvsk\u002feJcAzejlxj99eRyFuN2\u002fP7f9LKVunMQ\u002f4RweCJVv2D\u002fwbfiEJELMPxATPpKsb8g\u002ffMoYptlx4D\u002fQ30USe9a8P5gLBH5pv8s\u002fi2e4afP2yT+1ibtY9bTPP\u002frZCsV3qs8\u002fDjOk+YMy4j\u002fjqa5LHTzTP3WOhNUVM94\u002f9jB5eV\u002fzwz9NwOTHqjbKPzaqdzKihM4\u002fQZjkeYhUyT8Rtdo9ef\u002fQP834\u002fbRH8cQ\u002f5aqPRXwkwz+pu+7e1a3gP58FQHIMT8Y\u002fWVyNpoaitT9e8cb+JnrCP2Dj\u002fmuDaNI\u002fMhDdElMdwz+SmU+EanPMP2F8nzVwF8M\u002f\u002fCtHjgV01T80ljRu6C7LP0hzcqHq3sQ\u002fjmInUIX2wT8+pi\u002fD\u002fh7IP1gMWRaHytQ\u002fP2J7VmYm0T8LquUT9OTAP08EVkmZr70\u002fvw\u002fVJV5S4j\u002fV319mOfbGP+BbutAVB8k\u002fQG3EzKXTzD9GEsN3kwjXPwn7GBGlbMg\u002fhSuoCfPS1D++b5qMMDzgPysGuaMtn9U\u002f0\u002fO\u002f5qTGzT\u002f2e+wvSoTQP+HVskIknM8\u002f6GXcHRGNxD8wUHlIImG8PyR7NHJxR9E\u002ftKVx2CXMxD8vGAE1iAi\u002fP5aC7m4fRN8\u002fUMWDiXpLuD\u002fsq4eN3JKzP\u002frVn9z8VeI\u002fvB8PXpuUzz9y5AygPUm6Pw770oPqq9A\u002f7dFYEhfR0j+ypCdWwgDSP+dk1d589cU\u002fw57NaUCfwT\u002fQHjIOesfbPyzklOdNQ7s\u002faHdLje3DrT92AdOs+xTPP6dnLA4E7MA\u002fIgxQbGjx0j88D9JbocPIP89KzIbwMr8\u002f4CXugBqW4D889uGBID\u002fOP9rH6rOrVss\u002fvfvHsZTN2j+X3tAdvvG0Pyy5ynKhG8g\u002fKSlfLWxSzD+W\u002fLztIrvbP70OksT7p8c\u002fLlp1U\u002fn\u002fwz+sLhCrK77SPyIxdxCClMg\u002fyxmu0Mf6yz8ghQohJ2baP2helRbBUcI\u002fxMoSuBHbvD9N4niclmjBPyc7Hx2pe9E\u002fALdMbi4y4D9cK\u002fGF6ivgP+pGrpqAGcQ\u002fswpLlztszj+G2pdjo7vDP20tv7NTdMU\u002fwX69yLIi3z+ZdzD1IkPIPxrETxrK3MA\u002focjTkPOTyj+ouhf2pzDUPxoa0nP2CsU\u002fYeet\u002fmhGzT997Krdh1a\u002fP+pQbBAgoNI\u002fO6++2hovzj+T1q0DOqTaPwBlHR926N0\u002fV3fgGcIx0j\u002fDS\u002fFwMqDJP98nw\u002fLXbcA\u002fanVrmJrexz+VpP6fqA3HP5o1wNJvlcg\u002fLrCDnh3W0T8zRYQ7cO\u002fVP\u002fTbugf8Bcg\u002fOmg3FTLAwz8km+5ClBDdP5cuw4Zg5NA\u002fgEfDlw5Wxj8TPm7orLbQP2GmV5T6ydQ\u002fNUDdsqzV0T8tAan4VC+\u002fP010bBjXJMM\u002fYnt8a24buz89J2zmlFKxP1WIleAmw9Q\u002flIhIs+xGwD+BVlLuMufeP+UztPZjTNo\u002fV7Sd9ihFyT833DygTJvOP7ALw\u002fUZb88\u002fX5Ij2bkRzD+PkSLcmTDJP\u002fG8bSufhcU\u002f4Skzl6G1sj8x2Bo7jBfTP6PFlMSAQbk\u002fkh3XNCxfuz+gtFYRyoHaP3uvusPv5Mg\u002fNVzGRv7hzz+QGHNHdMTNPxfhTW1qsck\u002fyjxpuTmYzD++zoYja1DJP35J54+1Fd0\u002fz24Pw7wHtD8mGAbASIXMP+X1njAZrt8\u002fv5lGQHA2zD+LCmk0XATFPyDmBtoTrd8\u002f3tCg6iKuwj\u002fObM2vtJTaP0EAzP3XNdU\u002fE8t2Apud1j8E8VKQxVbQP9IkLjPJu9M\u002feBu06UbP0z8Ri1+xRem+PwN4qXF33dE\u002fD1mkKauCsj\u002fqrZyr+uq4P+Fi6zt2RMY\u002fTtgnzd5g0z9DNdnm3bzdPzZ3Bx9r\u002f84\u002fcAQXY1Ok1D\u002f7jETysTK5P3wfmwwCbdo\u002fO8cmYUNozT9EITEihsjHP6FS5Htl0bE\u002fKDUIJd0Twz9VWdCxMeLPP97xzw8Hitc\u002fvUv1y2etvD8bq5fPzazFPwz3k9DLPbY\u002fgRV0JBSpyz+5tOolb4nTP+BtPmVPktE\u002f8CN6xHBGvD+fFhlG87bDP6uP+EHoh7g\u002f6RXUMpT44j9KbSq8YQ\u002fLPw70x7Zcvr0\u002fg2S99Av+xD9Q\u002fSNggAXFP\u002fVRd4wOENM\u002f9VEk3EFazj\u002fb2A+xt6XMP2lxTxJufbk\u002fKvnpTcDRxT9PhGVS+ETbP883HY13KK4\u002fKWNE\u002fCqluD+GUkCwQ3nWP5bRMW1qbtA\u002f0hZu4+3x2T\u002f6oN+py5TWP7fxxLDAXb4\u002ffEJYFatBtz+vPvr6A1nXP7vVFkSY4cE\u002f41JeNKQb0D9IKqbpvAm9P\u002fq0hWgNIs4\u002fiRgfKe+X3j8xB3F7cjnaP\u002fjLMZZA4cM\u002fW7Ian+Xywj815NnZxaTgPwdARfDRn70\u002fQeo4E\u002fiO1j\u002f\u002fOgtLL8m6P5fcTu8KKsA\u002fayWvsSZDzT+XLvUMxMnSP8OH6000n8o\u002fHKlRQ78oxT+AB2sp4kLVP8W7E8Rjp9c\u002f5R11J5gnuD8uACYjpYrPP4HsG0qRaMw\u002fmUQfIB4Qtj9OLvhZsSLKP6iOXlWqp9M\u002fKeEPmMTp0T\u002fqszLrZ\u002fqwPzV1gfTVqM0\u002fpPVH25nw1T+PqUIffqjDP\u002falv6YS0cc\u002f55Jx8mWxzD+B90upPdy1PyadrzD1INk\u002f43MxgWzwtD8NVy0UM93UP\u002f9mVlXCd7Q\u002ffrck11b7sD8EKCOr85G4P5wgAwSmHdA\u002fL6eVuPwN1z85o608favcPzlTJ4AlScc\u002fcEzQCzbxwT9NaCe\u002fwbPgP7kS8htEotY\u002finHmeTuFzz8A8tmK973SPzefTZQKsMg\u002fi3p\u002ftQ\u002fU1T9GBJI+zfrVP2lgurBYdL0\u002fVsMvzPk\u002f1T8H4UxYjNzWP8JmE2MUReA\u002fYppOqEjZ1D9mv\u002fXPgOfgP5YxjG50LNU\u002f5ukoD1a1sz\u002fBJ9TQLSi7P711LjvXksM\u002fu8xOqI0u0T9\u002f9zXLiQrGP4EJnefHrNc\u002faq8zt0iWyD8GBv3ZbN7dP9LcBLOK97U\u002fARumXOoqxz9a+mnTsg\u002fgP8Azq2FaFco\u002flHrM2P850D8KzxO79RfFP2pmChZqWMA\u002fVBEuqHx72z+0a949ZXrdP6EPiT5adtA\u002fLjzfIaehzj9wkEQfEJnJPzBZu3\u002fIsMY\u002fQWIsMXu2wz+7owadfE\u002fFPyM7V1xnEeE\u002fEz\u002frr4Mmxj9s3kJ5+kHeP37I7q7ukLo\u002f5QO7hlpg1z8iufV\u002fAdu0Px6YKCZg3eA\u002fwrCwofXH0D9XwyJQS0vAP5S\u002fgwfgk8U\u002fs7QxeJvS0D\u002f\u002fl+ek2dO8PyU9YBSVOdM\u002fZWvzOMw13z+14VmV6ETNP67PoV5YEeA\u002f1FFb09G7zj9cjg28WIHMP7heXayA+9Q\u002fA4hKIBqJ1D964jjkFmzGP8EzNEdMcMY\u002f2HgiYLYq0T+Y2qubZKm0PwXdyirEmMI\u002fg\u002fZTfTCFvD\u002f3zdkD4TewPw2EEAJcc8g\u002f2xBFQEJzyj8i\u002f\u002f2xYoXMPw9nJ7APk8k\u002fpqCReIEF4T\u002fxBWOx1VTIPwpP7\u002f5oV7g\u002fJWTI3uWKwz9amSZGIbO3P4xWMdMu\u002fs4\u002fjgd8jsaN2D93iBxDZk3QPwO3aEqjqsQ\u002f2\u002fM1EPGctz+BNYZPC0rgP\u002fZefiYaS8o\u002fUk14v4tVyz\u002fZAzohG1zYP98cmmh5kdI\u002fkiTp9E8fwj9c6BZ1vxjaPxFu1OCG1r0\u002f4uOBWJpbxz8iCrDlDNzSP6IJOXJzhrE\u002fRe8IIxQa2D8fOJR\u002fNafRP7jktFhXXLE\u002ffHnUuo6lxz8F4\u002f69C\u002fbFP7zi1Kn7E7c\u002fxJBGjjHHzT\u002f3p2MTZRDCP6wb\u002fuNXzNk\u002f+advSR2CzD\u002fhXziqtujhP\u002f5wlo+N59M\u002f6gvLTUbfuD\u002fuLI21B1zVP6KI7PhIF+A\u002fsR9OjmHXtj9vipae2Au\u002fP1APeZw3dtM\u002f8oV1EwJT0j90CD5\u002fPsPRP6h2zsQ0ubs\u002fNzVT4k1X3z9cDBUtkcnePzAEOMeSeLs\u002fuztau1Cv2T9FXUBItyPXP0Wb7TfdGM0\u002fJSAn38ZQuj+pGduqm\u002fbAP2yKfhSZBro\u002faGdZ6TDayz894vWK83PNPxchB7UhQ9Q\u002foFp4\u002fDWftj\u002f4pW0TcJzOP3BvI8ii2NU\u002fNXlOkACjyT\u002frUMWC4BTDP9mhjHCgFdI\u002f42fjuBQ33j8eDQOfrhbEP5Zy9\u002f6TYcM\u002fiIRQV4cRxz+CJ7wxM83LP79TlsJ1XsU\u002fpXI+kWY2uz+P72oDzMvYP9sgTFJDHcI\u002f2WTiKd2Ryj8Jv4ZL8GDDPzHge3olRcE\u002fcTJ5Ng09yD8+B0+nhEzOP5bEFtuMXtI\u002f0wjC7+OMxT\u002fqHGIdX3DRP+yjkF9kdt8\u002fUmvE10ky5D+PupqnkcXKPx2N8g+mEq8\u002fddc3U6DUvT\u002fy81ptefDAP8BXdsjDhNw\u002f8GBXe+e3wj+As0o4ZPzCPzncL1ND9MM\u002fV+TvA2kk0j\u002fBvLumq9u8PxR9B2Bl79E\u002fgXfAgC1+wD\u002f65c\u002fgNzvQPxYlaeJbl7k\u002fF5PTSS5qzD8zrbWzjhjRPymm663T6cI\u002fJRHP\u002fENMvj\u002fsBmwmyaDFP4kh8NwVhrY\u002fSDNvxENE0z8LbLeRGH3TPzaU2Pgfa8A\u002f7Vek3ij0yD9rQWD0cXvFP4bxxmqhwM0\u002f3X1xyoso0j\u002feK2F2uU6zPxMbGqq4QNo\u002fNaxMZvvI2z+b5rx15CKzP2+pltv2q9o\u002fH3HGfpn01D9NXOQpwMjWP75ejNDBR8w\u002f3H3UNPUvtT8Sj9JttLjHP6ifkwL6U9c\u002fUXSjqioUuT\u002fJwvk7\u002f5rJP1J6vQAWfdA\u002fO4AUG3As1T\u002fVgmKGm1\u002fWP5l8oZON\u002f9w\u002fqxHtnqNuwT+bg+XlaCnUP0zuJ\u002fb168c\u002fu66yTgtOzT+bVYfDQeXTP2F+z+X7EOE\u002f9iMyIlS9sz\u002ftmW86N8TZP7N2a9jtZNA\u002fS78D1tWYtD\u002f\u002fK\u002ftT+VrSP8Uc5yhOitU\u002fZxrEI2H90j+JuXQ22ZvVP5Mod3bqiNI\u002fMYWetwkM0j\u002fB690NoufSPxEuggz40uE\u002f5YbDYrlY0T9hkh5pPiPQPyznt2yPVME\u002fx0kvbIsLxj8kuoB8gsLKPxgJzBsc5r0\u002fD6MqzEWi4j9qRZTP9JrZP9AWNrMblso\u002f+i1LEObFtj+GBtBVspXZP3QuAx216cw\u002f6qwnU26K4D95w3ueV3nCP9mpbEgRnNA\u002fD8SG0A+Qwz\u002f24MIJDcTAP1KeybJuA+A\u002fByGf+U1p0z+6guEsEyG7P3OyIEYIpNk\u002fZr88QMOltT96vlGN0r\u002fUP9sNUyjMRrM\u002fihpxbHWj1j8JG9op7tzgP6P06gYB\u002fdc\u002fcw7pESwc2D+VUlGxIpPLP8GnM1mwBeI\u002fxZlomlTEvT9KMFBwFWHNPxaaMdA7s78\u002fLeJe8rZO2D\u002fkM4LbQuzAP6QdDFGpD8I\u002ffHKSkhI74D+k6GU1a3zQP2CCiVccSdk\u002f5VOq8q4R1j\u002fz7Td1V0DKP+7FZ\u002fSX4M4\u002f6wadT2Joyj9t36aJDYLfP\u002fhd9MzRCN4\u002f6lnbNrEP0j8LOyOPaIbFP06upqQxc8Y\u002f4aQj4uoX0T9Rveja+k\u002fEPzqQaqXtrtE\u002fJOa7zIthxT+ebkCWxky3P2w2zs3tSdE\u002fvC0zmYOB4z+Z4VkDo77HP7E6rQgj39o\u002fAnAw0dxKyz\u002fskghVaRrZP2lLGc+XgNg\u002fZEWhLYuC0T80fue0x2rVPzjsa+0fldQ\u002fwbwEFpNRyD9PWg0Y9E7cP63hDsfMWLs\u002fLLpFTC4euT91wrXJZfKqPy2b\u002fqBLQrs\u002fJFIRsoRpzj8EtvKtrf7RP7ZmBUFh3MQ\u002fG5li4NVZwD9raW8SHfuuP6ddSIWB3ak\u002fFPGUjaUAyj\u002fPJu6W1IjXPx5O2bsQxd8\u002flOEY2LVKzz\u002fvsRLFcm\u002fQPzGEUgBU3c4\u002fLyozO86v4z+6hie13y\u002fCP9RGdufT2Ls\u002f6OSX1nXl3D9FQbs11o\u002fIP4ynqhCyX8c\u002fp8U1yWTP3j8g5MMuCLO4P8AaYsOWu8Q\u002f20eJzEoJ2j+lfzWxQlXcP80RrHVAMtY\u002fW7GEZugayT9sDWqZV1fRPwZMm4WDZNI\u002fQxL0NVf1xz\u002fxoNka2TbMP8EKuHiXf9Y\u002f\u002f3t6TBmn4D+j4cSWDzbLP0+G381Kvck\u002f5Mhy4EQnyT9WoUR6f0jWP1ImTtnoUNE\u002fRVhZBvt5xT8JwrFyt4K1P\u002fsthqqlfcU\u002f1EUR0hfQwz+QBXOPaFTIP00mOCrr4sg\u002fqP2BjyouzT+qY7TlIaDPP1Fet0MU2L8\u002fru2OzNEb3D9aXqDX1mPOP4Vz3esmJcU\u002fdqPr4M27wD\u002fY73cpCwPXP\u002fkLZqAARrE\u002fq58oUnlkzD\u002f1VV1YuoS9P93vm1uqrtE\u002fWar4j9I5yT9c5AyXDh7dPyb50f9jNcg\u002fi3W4LxByyT95z+qWLe7OPw=="},"type":"box"},{"boxpoints":false,"hovertemplate":"\u003cb\u003e%{y.name}\u003c\u002fb\u003e\u003cbr\u003eMin: %{y.min:.4f}\u003cbr\u003eQ1: %{y.q1:.4f}\u003cbr\u003eMedian: %{y.median:.4f}\u003cbr\u003eQ3: %{y.q3:.4f}\u003cbr\u003eMax: %{y.max:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"#00008B"},"name":"Treated","y":{"dtype":"f8","bdata":"ezIY6NRp2D8q7dTY4efIP0e+Z3kQLds\u002f1G8PASUg0T9htb25LabSP1LO4D1Gurw\u002f2scYZTuM2z9vF3KkwgHEPxMu\u002ftYO\u002fcw\u002fPoBpyMhS1j82Z7KYDFbXP2kgNHfYzso\u002fZRlt50W5zz+6RMVtDn3bP+Zbx\u002fXvw8E\u002fZBJkT0vK2T\u002f6QfBI80PKP8llKjZxgsk\u002fk4pFWy4x4D8yUmPoCdjFP8udGtJCB90\u002fYqJCyVSw3D\u002fTytJLpH7aP5OdfE3DeNQ\u002ferfMVmjCwz8kNueOlE7gP3fTE1nxe9k\u002fI9Q7Aof11T+ucabvHYfJPwMRHc\u002fdfNY\u002fOCxqJ6YL3T+PP4GpqXPbP+4lJBEZvds\u002f47x6beLEyT8mrkx+2FbQPyy5F9TiHd8\u002fRQj5t1V11z\u002fVMos55VrhP046K+AkxtU\u002fribz7QVj2D+y7PB\u002ft5XZP+IUcRs\u002f8+I\u002fSd+Dnixcyj8PzyaOsNriP8CCTMA3ksE\u002fEM+Snt8g0T801x+wrtbVP9IoLmL2Tcc\u002ftOyLib9R0T+7EFdmIxjnP6RHBKvZM70\u002fYdfiKE3\u002f3D\u002fNGnx0xgjTP4MBk2XD4sk\u002fkjPaTEm4zj+6DcOcQKTfP9WxqM\u002fapN0\u002fRf5gz8nr1j90MDXiEqrkP7bGUIkjmtg\u002fdrB9W9792z+7pCepFgHRP8SsGpm0Edo\u002fAcfXutsV0T+neskIAHfKP0l55yvfONw\u002fXdylYy9n1T\u002fJBArZJ\u002fvFP8PEuHLhiN8\u002f\u002f0HHGhX4xz90x85M5XLiP0v2Zyb6YtE\u002fPVNXvC60wz9CTMuVVOHSP18j71wGAd0\u002fGGiU2ZS80j+kErzN9BneP0GFLp4Q\u002fsE\u002frGGBGArMwz\u002fE\u002fqsycRLIPyiB699lQ8E\u002fzazKTM0W3D9txQIK5uDPP0RzRx4WNdE\u002fwJ8rIOxc4T+ioxL7DqvWP+Yi+cXIgMk\u002f85Ji2yCH1z8whe+x6IfdP26vqdn+tuU\u002f0kWrW\u002fdIzT+m5uxNajnBP\u002fMXqNtZoOE\u002fonb+iWfvyz+CdXg34aLWP9yDq2MEdNc\u002fg4HgSvNo1j9oKhlYTM29P2qQDWqbYNY\u002fhcYQ9MByyD+o1bGKbdDaP+jtIvowu9Y\u002fhUpFf9OrxD\u002fVFCWeIAbbPyZrXFLCgt8\u002fZkv\u002f1Hbr2z+2u7xeq+DdP1OVMoLa5OY\u002fEhFlYYOk4z+BQ8A3+4DmPzCCgAuMqtY\u002fYiTBhlPg0j+U2Mi5gKHFP3O9oH1nFLg\u002fsWsXVlTIzT8Ykv9f6f\u002ffP60CZSPjLNo\u002f80P1wJmM1j\u002f8hVlJi3i4P4pUAbHFTtw\u002fi2vU1ZlrzT+gTAeqILm+Pzm9wZFAFds\u002fAWaoNIMgyj\u002fkE0EE6uTeP\u002fGhq51yQd8\u002fMFwQWLH95j+0WFryS\u002fLWP3UFKSeVdOM\u002fsdu+lkX\u002f4j+GToFztQ\u002fRP+oK7zCHJuA\u002fEV+o8TsG2j+B3tcAMl68P9gT3wDb6dg\u002ffpUPLRPPxT9O9rH4M5XGP2tMlg8vYcY\u002fAeyvRIns3T89gnl02yPgPzHq0UiKSLU\u002f40h8yRhy1z9D\u002fDBJD3TBP069CHaXrtg\u002feQK6S1Vc1z9UFFKixPHSP7V3c\u002feqWNg\u002f2pwwUkmj3z+WNy0b4RTXP0yQEvwkGt8\u002fisOtdDTn0j9snZMgOonCP7+Dv5LXfNQ\u002fUOMix0Gp0T+EQVmokFbaP02\u002fZUKNIuA\u002faChOOw+Ozz+YthHSIoe8P08JOFDGPOA\u002fqSX1LpZ3zj\u002fxmC1aEYHJP0QErK2rDto\u002fYGu+Q+Rq3T9Sny0+EOnHP3oYFACdT8w\u002f2aV6gK4J3j+mJXMpP4TVP3n4dlvgUOA\u002fun\u002fLzrke1j+gLAr8MZzYP3Dpemt5+do\u002fsGMTSr1z2j+9BrRCFafeP+1+1Ri\u002fh9A\u002f+0Zu+2Lq2z8lujzceRnXP5AEhhneyNo\u002f7N9JeM303D9AO0NjbqvZP08PBnULgdo\u002fVpGsg7tR3D8\u002fIuUb1ujIP4B5vRXxocg\u002fgWvPcKj\u002f3T9TnkO4tj69PwMMQmWLbNU\u002fJlA48\u002fY75T\u002f7wngH\u002fhvIP+bsM4qVUOM\u002fDCuniFC11D\u002fi5K\u002frhe3bPykXzmNLSdA\u002f5A29CAAGzz9K1x8ATUzTP8ics4RXOtw\u002f+mHgD9mP2D9J5EhIZqffP4wWF1hFq+U\u002f5CEdd949zT9OICNwgH\u002flP2Q6Ay7W1t0\u002fmIXCa5plxD8w4UxT1kfTP8fGW8bMBMs\u002fWFbaqzYL3T9yd\u002f4lrObOP\u002fQEHSPoSd8\u002fHYL6hpk43T\u002fbBJGo7j7gP8a3XS9s4cU\u002fA0XSAg81zT9NBvzf9k3UP8nH6v45xdI\u002fFZUnSOYU1D\u002fyAlKgLzvgP20rmg1LU9o\u002fwYXD47TVxj+vv7huP6ngP\u002fvW3NL3ncM\u002fOdWI6AeL2T8B13E4iB\u002fUP5lSJMXxA9E\u002fDYEN7xyu2D\u002fHTYT4JcHaP5cc1SXED9k\u002fCQdf1Hgo2z8VuQCfefzBP3v1w2Y0p9I\u002flrgx03uu0D83oHSmDknJP0Hg1QmJyt0\u002fpm65GpKu1z+K2CjRvlvVPxlauZXg9tQ\u002fhpb4f6\u002fX2z+i+hKWEEjCP5kcp9r5sdk\u002fOueDCvSA3z9JsAw3YUPhP9QPch\u002fIQ90\u002ftbKv\u002f8PH3j8utJ26XpfaP4EGmp8xP9M\u002fII1OO2zV1j\u002f8wnwgcWTdP4bWa4hWjtw\u002f2IymbqvW4T9uWIhfTCPeP1sr2e\u002fEoOE\u002fY\u002f3NjGTf3D\u002fnMziJDBzgP\u002f\u002fiODrHB88\u002f3SGXPfLgxT+i6TjxwgPGP1wtgLlOJ9E\u002fd35ZSDDE1D+y8Y9F3KTgP91Oc0swz9c\u002f8N3nHhkm3D8T251Ede\u002fAP2ztCeO6XuA\u002fGNaDtE+W3T\u002fKTKjQm8nEPw=="},"type":"box"}],                        {"showlegend":true,"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Boxplots of Propensity Scores: Good Positivity"},"yaxis":{"range":[0,1],"title":{"text":"Propensity Score"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('14e2ef16-6074-4423-ac3a-2fb957181dff');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div></div><div class="output text_html"><div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.2.0.min.js" integrity="sha256-iZ2u/oU2wf/vDbl/ChcX93WgbBRSBvUO6N413hDz7xM=" crossorigin="anonymous"></script>                <div id="2219f9df-f420-4138-b600-8ec63de53f47" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("2219f9df-f420-4138-b600-8ec63de53f47")) {                    Plotly.newPlot(                        "2219f9df-f420-4138-b600-8ec63de53f47",                        [{"boxpoints":false,"hovertemplate":"\u003cb\u003e%{y.name}\u003c\u002fb\u003e\u003cbr\u003eMin: %{y.min:.4f}\u003cbr\u003eQ1: %{y.q1:.4f}\u003cbr\u003eMedian: %{y.median:.4f}\u003cbr\u003eQ3: %{y.q3:.4f}\u003cbr\u003eMax: %{y.max:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"forestgreen"},"name":"Control","y":{"dtype":"f8","bdata":"TguS5UYo7z+9YP02j+jWP5Gn+ask09Q\u002faWyXjcf+1j9jnJZcb8ijPzxYDgpHsUM\u002fFjD+w4R4pj9VYdasuiy2P9tsTYPEb+I\u002fMPTsyk1pkj9\u002fNcxX3QzuP8W6v0UP2WY\u002fjOtF3m+Xdz9xonCbu\u002fl6P18GMC\u002fL+I0\u002fpwsCUhc1rD9E1q9DQDffPxMH0zrINZc\u002fYQVVa3x5hD9k+eHzqtrEP97PaBoSaWk\u002fj3l9Hx7hsj8KjJ4eJ4aiP4VWIGiGupY\u002fvwiGLzb2QT+renx\u002fnxpxP7iro3ABziQ\u002fpOOtnoJxEz+MuQI2FVjhP+vPtL\u002frU9A\u002fBKLkRo8W5D8rXTllV2K7P+1jbBRWwjc\u002f3g0r40HrND\u002fST6qF9TeuP2SaZV5L+OE\u002fi8D7tMJLej\u002ffCKZNmrzePxQZSBUUVB4\u002fFbUWbwFKgz\u002fIHYmiZJC0P7PS5o6mt90\u002ft+TOG2uHaD9wKONz0UHCP0flFnITnLg\u002fI9F9nvrqeT\u002fhqrEXS1HrP4NaKY4oJVc\u002ffaMpEMWvvj9gV1pD65LlP2Ql3Fmqr+k\u002fKzO6sga\u002fjT9ix3pcm4i6P1k9DgXpRew\u002fR5XDjZe5xz\u002flsD5zllfJPxA0g\u002fQ2hXI\u002f3280DRyT2z\u002f1RM9lKDTKP\u002fXreS5klt4\u002fY\u002f7hFjmIeT8AWuKIYCS0P94tlf5SS1A\u002fhByhfhdmrD+2XzGqpcuWPz8q9UECZaw\u002fmlUNDgxL0D+CowJbl5fUP0YeO2l3fKQ\u002fpHvjUTnLwj8r0j1CT9DlP7mQ4UNG1IY\u002fveCvEM1LyT+nfRgXGESiP4DT68ZUCdo\u002fKZ4qtn8Dcz\u002fvhPfwoJ\u002fPP6dHVxARdcQ\u002farlFhsnt0D8FhcTk4nXLP0p3\u002faKjids\u002fT\u002fVDKzd65j+PtYW8nLeCPwNt0kHSPIU\u002fXGXSmLSk6z9jlsuzx+rTPzS7B4GlrMQ\u002ful5RKFZh0z7WuYi1cOPXPzggGntYIKI\u002fqyJckAZLaj9PbKs4D7fsP6Uqz23vzCc\u002fvPBr5zFTcj+YoS2OO365P1w0Zubq\u002fno\u002fEaUyspueBT8eH0rsCzjnP5isAVv10uA\u002f4Fcyl5jM0j9ccX6fZ6iAP0nTMoBFHHg\u002fgppx7Arryz\u002f4x6MnNVXsP665kdlMZrk\u002fLzOCYnhJuz+CpRwErHDGP2ar56xrK+g\u002fyfMfYlKntT9Y4AC95XOIP9yicpyz79o\u002fayE3dDiPtT\u002fF+hqz\u002f2qwP6Y4LCt0YtQ\u002fxApzJV+Q5D9qYh9s0dSBP90CPnzIbbQ\u002fNvbEQRbBwj9gMc0DFZiqP2Vx91ir5I4\u002f2xIrWzRe4j9BJrlkZVSdP4aF+\u002ff3NOM\u002fcpKkx76SxT+t0ZO1uHDgP95m\u002fJR4dbY\u002fHbUm009rxz9bw05H10t2P103TmZZAbk\u002fNyhFa\u002f5dcT+HCZhohuniPuid9ql+OOk\u002fKR+u0xJSsz+SWrvI3suwP74AknKU0Jc\u002fAuQTBIp8jz9XgCrYocszP8HQGB7kaUw\u002f7hDM2WdLuz8SiX9x0GbPPy3qg4RyzDg\u002fXnCIVXhMPD8GC7lPpTZvP8LCsTzCI+8\u002fYedpVaEEpT81Lq4CM+39Pv6dVthanXs\u002fg3PH1VnnYj9MrwIhKSVrP+3B++onoaM\u002f66FWSz3XQD+uM8GWBv66P\u002fK7QaTxa8g\u002f3rWyzpzg7T+PGG7F45xqPxDqT2XZG9c\u002f70CJwz+fmj\u002f952PEzzvoP6gq3B6qQpQ\u002fjnera1cJlD+c4tcJUk7KP8p2XoMqrnM\u002fl9hMdZqprz\u002fZ5\u002fmEGa2XPxb67W5aD9c\u002fdY9doaVBlz9zfyAMeWzsP30SdcdQRPY+crJaFsjziD+QgEZi7lNhP6HFUZwgX1M\u002f0c58vKgniz8B1sag4eC0P78m44qanL4\u002fprlGuF5Juj9LGgZQVjqLP8xnMR8yzmo\u002fvhvvynwPqD8FH\u002fjWddp\u002fPzAV5v6Gw+g\u002f2QGF0sR50T9UfnW2moa5P6ixxJuYArQ\u002fYyamJcUlbj\u002fPvJ8pJ25IP3d8vOU9080\u002fEV3itD4w1j9SMHKYKcf8Pt1W2lBV6sE\u002fJ1F\u002fe\u002fzW4T8VuaY51LiSP3aEpQJs7UE\u002fjEHr7gCgVz8+2wjMCh5kP2d6fZPzlvQ+Rv7toHc6oj\u002fg0RJQrdPTP9HNUsh9nqg\u002fqlcv884W5z\u002fCbSnZZjUoPwvDqD2t1YI\u002fyTnVUNxjRj+V8\u002fIh\u002fwpjP5J36dRwWKE\u002fVJRMA3yijT\u002fiUkiPUyvNPxPhOyYVEsY\u002fikeySx703j9loCN6YhmRP1zbbO8xxH8\u002f\u002fhIN2k5fhT\u002fmaXTO2NS0P7rIYIFgBGE\u002fb11X6m0z3T8a5kmM7O+jPwxNYf7SNNM\u002f6JNLzVV6gT+Qfe0CfPmrPzbIW9gXqps\u002fPN\u002f3cr11Ij+F8bjBZsfIP\u002fbmdIMpWKw\u002f2yqIA4rm6T\u002f+JI0+5PYZP9bmNi+I4+0\u002foixQlOytyD5YiY+T0ym8P\u002flAMdGFe+U\u002fLnTbppXZgT+URy9t8lfuP7sHKb6sZCU\u002fOlKtFmcJMD9dp5za0ydGP2dG+kiD9qs\u002feTIUFlSasT+iG\u002fjSVHhnP+t6CCRTeVQ\u002fA6AcUH631D+9lkwd0f7AP1U2mjYYA7M\u002fiaYliWnmZj+2aEzBfhZ5P+jtXUQPHrE\u002frhnuoeAyZD9ysyygWz+3P1G5sPVrnD4\u002fmK6fg2mv5z9sdk7n7cfoPwDFptKSEtM\u002fZLTBinCD6j97N9IEFOBGPxXS3YHC2H0\u002fbWNRLGj\u002f1T\u002fldEFoRP3SPz6gcyjD7Yw\u002fVDO6knynzz9Io8l5IQTBP5dHI9DadSQ\u002fQc4DYI0Unz8ch6zOp8DBPw59MinM0ec\u002fPgTe9j7C4D8natdvD8LfPypqzq1h9MQ\u002fd1Dja0c4wz+34npphDaXP\u002fCHq0G3DuY\u002fnDxWEO8gmD9Lt95jA1SNPx6vutSmg8U\u002fwLnoPZly4z83cLuWL344P2FnXouF78I\u002fxfP3EsCwCj+EsL0BKMtWP6O52LfxanM\u002fJ\u002foaUFdkmz\u002fMOI1HodHSP1asBkjm+eg\u002f3tav6e9R5z+LHJ0XExZVP\u002fN2flY7Jig\u002fRQL33vGv2j+sbjF6s8rRP\u002fNLDTiYP24\u002fBPdxVERXzj+Kz2S4VgCNPzkQHIGrMU8\u002fiFw3aU7bzD9MwezGeA6CPxCYMK\u002fp85k\u002fvUVGefrdND93HbtM\u002fUurP12QTq5zocU\u002fRIkYvMyNyz\u002fbMPLs\u002fni9P2NmsOBPX9U\u002fpvFKa8\u002fjsz\u002fRzfB9bGjgP0hmwZzaKLo\u002fFj\u002fqEEf3cj9t8EeMdzRCPwimTZufJ6g\u002fPQP71fb1ED9QRSD0qa11PyLvf83luOM\u002fubq0oNOqhz\u002fBgIFYT9wPP6+rWONowfo+HqWTYYJSzT+9L8NqyX+GP54NoePBMVI\u002fyRvAaS1o5D+uw0RK9VNtP4VRVYIdBe8\u002fp64w0Pdlpj+vAMuZPfGgP\u002fvgEMAuhNQ\u002f+TvJzfN8pT\u002fsQDls0rkVP7X7ry88rx0\u002fCslV9KY1gz8dRON7uIu8P44tEGoePeE\u002fNgdpwybzbz9KGtKnYinLPyX8DxUZK9E\u002fOY91udyEQz+WSnCTeZi3PxI+KSLjF+w\u002f"},"type":"box"},{"boxpoints":false,"hovertemplate":"\u003cb\u003e%{y.name}\u003c\u002fb\u003e\u003cbr\u003eMin: %{y.min:.4f}\u003cbr\u003eQ1: %{y.q1:.4f}\u003cbr\u003eMedian: %{y.median:.4f}\u003cbr\u003eQ3: %{y.q3:.4f}\u003cbr\u003eMax: %{y.max:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"#00008B"},"name":"Treated","y":{"dtype":"f8","bdata":"Ar\u002fd483u7z8vgK7W+P\u002fvP6UkQ1C36e8\u002fUiLTCS777z8GBgd438LuP5KZ8xk2sOw\u002fr\u002fiNdrT97z8oLyl1TbDkP\u002f3fPvQ8x+4\u002foVK3f5547z\u002fbZDsWu\u002f7vP7FjxQIqQ+Y\u002fC7uAkFvx7z+edgCspjrvPyHUx5vcsuU\u002f6sHD9BS77z8BGch3b6bmP68CMdQV3O8\u002fpNg8tOFu6j+a5bmyW5nuP0Y93dnE\u002f+8\u002forxbIFBi7z+qe\u002fX+a+DvP5m4pwCzxO8\u002fXPPaeMX77z9F5FQFxqHvP7xgApHf8u8\u002fR3PblWP+7z8wP7jx\u002fP3vP9jqc9v3Qu8\u002fZsN2UkhB7T8Rr\u002f9kpnTuP18xcJ9J\u002fe8\u002fPpnuB9H\u002f7z+zTZARzvXvPykwob+FQe8\u002fp\u002f5gQZb27z99tTcUhp\u002fuP9M7gEyE098\u002fo2+9EoP17j8mavF2u\u002fnvPyViDBwySe4\u002fuPEvhlv\u002f7z+sftA3UP3vPzv0QFEuoO8\u002ftRUWIpX\u002f7z8+zOSQ5OntP8Fgsdf6\u002f+8\u002f71m8xGD67z8OV2YH7dvvP5o9jchfgd4\u002fffngfINx4j\u002f7Oz5GN1XpP1uvihmCKOs\u002f6m\u002fFPmb67z91\u002fqpMtf\u002fvP3go+l1GmO8\u002fn9yWx1Sa6D+9L9BCN8LvP3KpK6N\u002f8u8\u002f3N1oEbDe7z+MV0zgmvvrP2GUZYw6hO4\u002fSaEDNZgA7z97v5Asb4vmP97a8YG0Fe0\u002fcToEmzzf7z8Xsyk7hsXvPy11SnnIaO0\u002fAvaOod5l7T91pOaj\u002fv\u002fvPwdNbBxI3O8\u002fQbLlpjbb7z9WCV8PuwDuP9HgCxwRY+k\u002f3CSlFPxv7z9bB3f6\u002f\u002f\u002fvPz\u002fTAX0Rke8\u002fD6O+T4ZB4T+w+Wkhaf7vP1eb9IK7\u002f+8\u002fx5+xVHpo7z81Lb7WQHfvP2\u002fvPbb9D6Y\u002fALHZsFbw7z8TCOwahf\u002fvP+lz4\u002f5k9e8\u002fqxGwHcfi7z+PPhaPIvjvP99ij8s9\u002f+8\u002fbgCH1vL\u002f7z+yvZW6HI3cP0B6G0o+5OY\u002f2FbZBy7\u002f7z\u002fP\u002fv5\u002f9v\u002fvP1sH6yWPOu8\u002fhU2Rg5j97z9ni0HCa\u002fjvP1\u002fD688Ebco\u002fpzLAWKkx7j\u002f\u002fIHTZ4OjmPyURdmJv4e8\u002fxdAyyPwi7D9p308jJlzvP\u002fI8JB1CDe4\u002fXF8QvMjy7z9uiHGc\u002f\u002f\u002fvP7v3+Tiguu8\u002fe5NIbab\u002f7z8XQhkd6LTvP7mw1prB\u002f+8\u002fXv+\u002fmVb\u002f7z+iVe7kzv7vP94rBaL\u002f\u002f+8\u002f8JUAouh\u002f7z+gJVcjKNXrPzSQsFzz8O8\u002fmXgdbXb\u002f7z\u002fQpdGa2eXvP0Qug4ZR\u002f+8\u002fD3yn0lz\u002f6T\u002fQXLD9\u002f\u002f\u002fvP2XYU85oZe8\u002f2lozfhUX3T9v8eil1PvvP\u002fU2pFxKWO8\u002ffYgaQ6jz7z8cGc4zBgrvP88U2tz8ZrU\u002fmVWIPQn97z\u002fptm5orZbrPx8GSGD8ves\u002fICmutNjT7D\u002fjH2jcw2DtP8CarNE+wO8\u002fvXk9U9Pz7z876Sr\u002fk2fuP5mGhr\u002fp++8\u002f9ERq4Y\u002f97z+2jUDcuEvqP+lFI+ho8+8\u002fijo4x++47z\u002fMAhbThJXtP1apxPH\u002f\u002f+8\u002fFQhO1WXv7z8BFD+4NK7vPxKnirX6\u002f+8\u002fVh32F23+7z\u002fWG8dRyv\u002fvP2orBOYoKu4\u002fuc6+cPpG5T\u002fkPCP1r4DvP4SmALn5\u002f+8\u002fqRUxX27h7z8nvm8kf1usP\u002fINbkTM\u002f+8\u002fswhJqTxe7z8usQ0UDsbvP\u002fqpH6M9Ku0\u002fH6CLnNr\u002f7z\u002fIL369TP\u002fvP3CvC9P18+8\u002fUxaXB86i7z\u002fsRTbgU+vvP0LSg\u002fM3\u002fe8\u002fQ2znz2di7z9qTtRVm13UP5h2mebV\u002f+8\u002fKtO8kR7l7z+jgqKnxf\u002fvP5df9WWr+O8\u002f55L4kePM6j8YTf8t6\u002f\u002fvPxmOhYG\u002fVOg\u002faH9X+9zl7z+4JidL6j3uPyr73Qm2\u002f+8\u002fm0fhGpc41D86sSP02\u002f7vPx4Vx5\u002fb\u002f+8\u002fT3GA2SGH7z9+cDTrsL\u002fvP9Ol\u002ffOnROc\u002fnaTfNAzW5T\u002fsq5DSdVvjPynjiP0TpO8\u002fuc1NTXv47z9P+0ok9f\u002fvP7ux8c+U\u002f+8\u002fGtUafSXx7z+nLH57ddjvPxiEIMgDLOk\u002fCa2Au7z\u002f7z\u002fS5uPphv\u002fvP8nK2Urid+w\u002fM+OTtxT97z9IQH69QvnuP8FkB1vm\u002fu8\u002fsqx\u002fnir\u002f7z9b4T+QB7nvPy2MImLi0+8\u002fBYGvUs757z8L4rido6rnP2wqDHn5S+4\u002ft2\u002f4pA\u002f57z+wd4vwL\u002f3vP21qi3tM3O8\u002fWXFgpff\u002f7z8zcY3d6aHqP3x7HxPPv+w\u002f\u002fWXIXEel7z\u002fvjV\u002fU+CbsP5gB8U1B5e8\u002f3VXsfLf87z9q5HDT\u002f\u002f\u002fvP0NZROXF7e8\u002fGSNqfs3\u002f7z+q4ESu3e3uP4hgyfjy\u002f+8\u002fwXrEl\u002fbJ7z\u002ftNnFZ3v\u002fvPxHZd9ASTe4\u002fR8rFbLH\u002f7z9fXxd61gTnPwq1Na6o3u8\u002fHv+qr4\u002f97z9Nkxj1v3jrP4IjH0uJpOo\u002fZuk1NlPTuT9FimEMzJHqP0RUpriu+e8\u002fItY89A\u002f+7z\u002fDIz2govbvP5BS2njI+tc\u002fBg03Jt4t7z\u002fY7b5TzW7fP2aB1g0a0e8\u002fnYF+gvj\u002f7z92sQxFWY3pP4n0xsMgm+0\u002fOGlHFQLx7z8kaXrU0qPvP\u002f\u002f345irmO4\u002f8KBBvMn77z9zt8gBsfPvP9aDDsMp\u002fu8\u002f43m\u002ftQz97z+xohzS6P\u002fvP0wt3q2KBOY\u002fSYUSIJr57z\u002f5T8neDejvP3QiCP7\u002f\u002f+8\u002fNRDyoVj77z+Targt8ezvP8JY2Ab1\u002f+8\u002f24CBpry37z8F3XO9FzbvP1b4J3j+\u002f+8\u002fEskkmNT\u002f7z\u002fiw9c6H6XhP+5+VK4F8+8\u002f8JUHJkRv7z+tE0M+sPLvPzCRqhYHtu8\u002fAPgLARTk7D92FWnVgfnvP+tXBikJ6eY\u002fDdSe9HmI7T\u002fIRGGsRz7uPwS1\u002fvjg\u002fe8\u002f3mQXxWX\u002f7z8E8kOGhu7vP775fKNjQ+U\u002fQnCUn3L\u002f7z8DA+GilQDrP\u002fZaddrt8u8\u002ftKAGfoP\u002f7z\u002fg76pS9\u002f\u002fvP5ggoBU8T+8\u002fR1l0Gz7Z7z9\u002fZhAWev\u002fvP8e\u002fBWPh\u002f+8\u002fXQkaBtqV7z\u002f7pTmVUuvvP5eMeDXgK+Q\u002fNV0wHpz97z8bik9W1v7vP8Gt6E2Yfe8\u002f1D\u002f0CMD+7z+5c8y3p+7vP6yotVa+8+8\u002fMEF1KRLr7j8kmfBF8ujvP+3BM1u8Ae8\u002fXeAWELOk7j8s7GQOIOvvP\u002f8yu3qaZe8\u002fEWQ5GPb\u002f7z9jBcNIN7jvP2VBzhDiTd8\u002faDzIJKwk0D+7LbtjYaHvP0Wldonnru8\u002fffrVOqf07z+kyW7+Wv7vP8B2+3vKwu8\u002f6Zd0fS+g7D+ESSzXQ\u002f7vP0LHYhva9e8\u002fCLm4\u002f\u002f\u002f\u002f7z93JkA9Xf\u002fvP1PQFMpSj+4\u002fpHthSAJ\u002f7j+p6HDX\u002f\u002f\u002fvP4X3Uz3A\u002fu8\u002fSdwQ\u002fA\u002f37z8QFF0n+P\u002fvP63HhpuEs+4\u002fU4tdDbXV6T+OYYI0wfzvP\u002f0eYRvH\u002f+8\u002fo8oJhC4S7z\u002fUmBdqMfrvP6P12Gv8\u002f+8\u002fE3ovKZjG7z\u002fxz9Jt7ebvP1RrAGdUqOo\u002f2gYyPNOi7D84vqd6zBbsP3\u002foCXTiXu8\u002f5R3RSDvS7z9CIFA+58HUPzRJCw93\u002f+8\u002fMcVj9gBW7z8QoIM+mhrvP8arcWmi\u002f+8\u002f2BurnPu+7z9Vq4UrzO3vP\u002fyIpfKFrO8\u002fHTVhoj3y7z8oljqCquDuPxJT\u002fMkZte8\u002fPSvERhDN7T+SFD1K9+DvP+dJ4VqqPe8\u002fk52cWyb\u002f7z8awdAB7ubvP9xp+JA8\u002f+8\u002fAy+x5Qj\u002f7z90+us4bP\u002fvP18B1Zfz5e8\u002fr489yz\u002f37z\u002fiQIhu0P7vP1XX7ydSENw\u002fSXjLsydr6D81JsS43kvMP3kLXpX2\u002f+8\u002f197wbljR7T\u002fHpqTU7HfvPwedmpytHO0\u002fnXEEUTGe7T9ACxKh7QXvPzz1c9JFxu8\u002f4WgM7Y\u002f\u002f7z9MY0\u002fB8vjvP3HWpkx9BO0\u002fPSGZDvr\u002f7z\u002fvlZO\u002fB2bdP5AQ1XoQnNs\u002fod6yfez\u002f7z8M5brzhhTsPy5FVhmP6uQ\u002fq8n4DdD\u002f7z9\u002fRukfyfPtP0abZw\u002fA\u002f+8\u002fUPVW8PTk7z9sqNG\u002fNPruP3GuuPhf+O8\u002fVsJhLOP\u002f7z8onAGecfnvP0D2n6me\u002fe8\u002fMffnoQNm6D9nABsSh1ffP7EyjtjL5uc\u002fsxxLqFv\u002f7z9RLd0qhv\u002fvP2lYvCujZe8\u002fmfDBt\u002fbA6T99Esdq49HvP0ckwRaO9O8\u002fOaoxu6j\u002f7z\u002f6FpUVCOzvPwQinNGY\u002fu8\u002fMOAKNa8L7z\u002fAYv6n\u002ff\u002fvP+dgFi0hE9E\u002fZjbyzHv47z91d8934v\u002fvP+NEczfjne8\u002fCD9nA\u002f\u002f\u002f7z85A8xwMv\u002fkP1g1ZXSh\u002fu8\u002fM3KNwaT77z8se3Ek8OfqP81NIYk7++8\u002fu3qNxQIs6z+FEaS0WezvP5LwfwvW\u002f+8\u002flcmZaVT67z\u002f+KuAQmv\u002fvP5tsqruWc+0\u002fK7RwZvKK0j\u002f21N0z8p3vP6U80S0v++8\u002fzJALHP\u002f\u002f7z9shPHdYobvP7++Cldd2+4\u002fLOIsBcra7z+CV4cW9v\u002fvP3+AA4yD7es\u002fJXzdeY7F3T\u002fvFVBTheHvPxb0V6bOXO4\u002fGcyNhMVG7z\u002fmRBZKz\u002f\u002fvP3JNagW6ye8\u002fbolKQ9Ld4z9oDyyN\u002f\u002f\u002fvP9QM3zUIue8\u002fr5T78hSj7T9bIsyWpJ\u002fvP6qDL5Zy8+8\u002fKjB10C\u002f07z8WJ1C8\u002fyXoPxi68XRRlu8\u002f31iNng257z8xTY3mFUflP\u002fPfs97+\u002f+8\u002fGAV2bO3\u002f7z\u002fPFG8KD\u002fvvP41A+1yaheU\u002fywwO6aPf4T\u002fpzwkZ\u002fP\u002fvPzW2ipYtwu4\u002fkiPaKOr\u002f7z+CrYre0vPvP39htA0Qv+w\u002f17seRaH\u002f7z+fmMHZMP7vP9l8Ao54Mek\u002fHhNEwYBZ7z+JD8lNV+3vP1XQprzKReY\u002fr+lJIUHz7z9+R4lfMPzvPwNdXJZN8+8\u002fx7dTdUH\u002f7z9PdbZ3ffzvPySrIVBmn+8\u002fYXVJON\u002fd7j\u002fxO0X\u002frsfvPzZQ8eIXoe8\u002fXS\u002fKSEf\u002f7z8vF4Pj\u002f\u002f\u002fvP3F9QEhO7O8\u002fqFROBZlr7j8FykNqCjnuPzqHs5+C5O8\u002f\u002fUelgGr87z+AR+DsddfbP2n8xifny+8\u002fmLJpiP3\u002f7z\u002f1TO98Lu3vP2XVW\u002fmR1O4\u002f6mI2zgML7z+1cI+TV\u002f\u002fvP++e4hAT3O0\u002foE357cnt7z+vgV05xy3uP0fb5xFf+u8\u002fjpr\u002fotTy7z8ATSJT\u002fv\u002fvP\u002fcJ1VAwi+8\u002fj7VaqXrO7z9HV4bnm\u002fzvPwMVnzPLuuo\u002fk1A4olBf3z9rFAsQI+23P9UEfnyu8e8\u002flVQpw\u002f3\u002f7z86kz40t+DqP\u002fTQn6+61O8\u002fWd6X\u002fRZx6D9xwVkQbv\u002fvP\u002fTTPOD\u002f\u002f+8\u002fFUipMAw85j8vj9iRGuzvP+VznGBNX+8\u002fr0quUdD\u002f7z\u002fe4f7H\u002f\u002f\u002fvP2YgEhcOMOk\u002fy+dpdfDc7z8wISDOQfbvPwthaUa5\u002f+8\u002fLkOCmRuG7j\u002fCirM7tU7vP1G01+Sx\u002f+8\u002fkcMhsv5L7j88Wztgj\u002fbvP5I3fAg1\u002f+8\u002fV\u002fNyYOn37z94gAd+sf\u002fvPxGztvETPu4\u002fGrNkO5n\u002f7z9t1YDOmcLvP73abaWYcu0\u002f93+a1vEx7T\u002fdd297Mv3vP+3Ob2\u002f2\u002f+8\u002fq06mtnP77z9bNVsqUmzoP\u002fjuSXxMyu8\u002fn\u002f3pwNj\u002f7z8e3NKNMpXuPx3VzXG3LeA\u002fhrUg7s797D+CIOcJPcnvP7vA4ZrXyuo\u002fQZ\u002fFSln+7z+0XX9RgUvvP8o8DqtpBOU\u002fanRUmtP\u002f7z\u002fIH5uizvPvP2veE29A\u002fu8\u002fJKB4Y0727z9Qp6gBs9jvP8sw\u002fqqFL+8\u002fYRcTm2\u002f\u002f7z8PLfvFe6jtP7YaUKx9\u002fu8\u002fL0Lr6pb\u002f7z8UY0A51xLSP68AYqfx6u8\u002f0JOsU9L\u002f7z8GPeFURKzrP7rQJKE3We8\u002fJ\u002f8epTZ4vj9xVp7ue3DuPzYF5G138+4\u002f1Vp0DHx77z\u002fed3RC+\u002f\u002fvP5wY+s6A\u002fu8\u002f9PXe44\u002fD7z+03YJEmJvuP8oCacOo+e8\u002fqQ7hNRvY7z8G4ChjEnPvP9sJ55hicO8\u002f0\u002fgCKLL97z\u002fmyxm3\u002f\u002f\u002fvP3j4e6P2Jcg\u002f5BiwoIov5j8gXDHk6+nnP9XgIvLHHrk\u002fMWUk2CL\u002f7z++HANl8\u002frvP44HVdD5Ouw\u002fEThrm4ed7z\u002fLU6r9HP\u002fvPyr98wrJ9e8\u002fQjqczLv\u002f7z\u002feznSd+\u002f\u002fvP9cJLCC+G+8\u002f1XTPlCr\u002f7T9bzDaEyjrvP7FUz9vQ\u002fu8\u002frdZGOWtR6D8oXhQ8+f\u002fvP5azLHDN+O8\u002ftwDUTRmP7z8a++hir\u002f\u002fvP6VaEjxiNO8\u002fuGt7SlT87z8H0GD2\u002f\u002f\u002fvP+tnlae9qu0\u002f+bh4Phy47j8BBDPEnf\u002fvPygaitwUke8\u002fLtHElJT97z97mc8kh7TuP3l5WBgZ6O8\u002fvB1AGur\u002f7z+DJBfTlP7vP32h7zRy7+8\u002f89htfCf\u002f7z9wsfuo8\u002f\u002fvP\u002fC6umTY\u002fu8\u002f6+4Ti\u002ff+7z\u002f6SFMJzOTvPwS5Kaki++8\u002f8ows5PKA4D8f3HZmmfPvPwiKEQwr7O8\u002fv6FcPhz97z+i1rY3WdjvP2FhajjUGu4\u002f76yZLUDj7z9MxjnRa\u002fXvP5FomdL+\u002f+8\u002f7tf1GsQ\u002f7z\u002fZEBB+Ku3vP+2y8daogek\u002fKTJc7\u002fz\u002f7z8GZFCMX8zvP9+yN5ar6+8\u002fUGCEONCw7z\u002fNmwwiQ+HvPyhm6ap9n+M\u002fNYR0Ca2K1j9SoCR+FP\u002fvP0dbscIo\u002f+8\u002f\u002fBYyQnH\u002f7z8mhZl9N+fuP9dNPE+m8u8\u002fSm8ylOz\u002f7z9MlUV3HP\u002fvPy7Zg0VDl+w\u002fQzAepbkHyz+fwGwZLYnuP8Qt22he\u002fe8\u002f9wkpdh5C4z+dmw6drfbvPwz4HhLiTO8\u002fNBdBQT8W7j9awcz0\u002ff\u002fvPyIdrry2s+0\u002fOESBhrr17z+IdweEJ7TtP\u002fkoyPps+u8\u002fl2wBIGr\u002f7z9WSXtV6DjTP2\u002fymB36\u002fe8\u002f4rqvBrf+7z+buYgpjP3vPy0TF\u002fKy4e8\u002f9SRRA0UH7j89jPflU\u002f3vP0HtoXDL7e8\u002fN1RxtmLq7z9o7zy\u002fI5jvPz\u002fVFB36\u002f+8\u002f19Y+uZb87z+gvL8nxNHvP9w60LE7AOo\u002fL6qcJKZZ7T8oViUk9fXvP6XLMZw+F+o\u002fIHhJVL3\u002f7z8i+odLpv7vPwJuHHlFTO8\u002fIEglCarE7z9OL831\u002fv\u002fvPxTBA6Pl9u8\u002fxAQ2xjfq7z\u002fxa0j7QwfsP8tzyqpDLNE\u002fuEfRdEQA7z+jX282\u002fv\u002fvPwie4Ijnke4\u002faohfvDHg7j8="},"type":"box"}],                        {"showlegend":true,"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"Boxplots of Propensity Scores: Violation of Positivity"},"yaxis":{"range":[0,1],"title":{"text":"Propensity Score"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2219f9df-f420-4138-b600-8ec63de53f47');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div></div></div>
</div>
</section>
<section id="validation-of-exchangeability-assumption">
<h2>Validation of Exchangeability Assumption<a class="headerlink" href="#validation-of-exchangeability-assumption" title="Link to this heading">#</a></h2>
<p>[smd plot]<a class="reference external" href="https://cran.r-project.org/web/packages/tableone/vignettes/smd.html">https://cran.r-project.org/web/packages/tableone/vignettes/smd.html</a>
TODO: explanation and assessment</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define covariates to check balance for</span>
<span class="n">covariates_to_balance</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X1&#39;</span><span class="p">,</span> <span class="s1">&#39;X2&#39;</span><span class="p">,</span> <span class="s1">&#39;X3&#39;</span><span class="p">,</span> <span class="s1">&#39;X4&#39;</span><span class="p">,</span> <span class="s1">&#39;X5&#39;</span><span class="p">,</span> <span class="s1">&#39;X6&#39;</span><span class="p">,</span> <span class="s1">&#39;X7&#39;</span><span class="p">,</span> <span class="s1">&#39;X8&#39;</span><span class="p">,</span> <span class="s1">&#39;X9&#39;</span><span class="p">,</span> <span class="s1">&#39;X10&#39;</span><span class="p">]</span>

<span class="c1"># Create a subplot figure for both plots</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">make_subplots</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">subplot_titles</span><span class="o">=</span><span class="p">(</span>
    <span class="s1">&#39;1. Good Positivity&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2. Severe Violation of Positivity&#39;</span>
<span class="p">))</span>

<span class="c1"># Calculate SMD for Good Overlap case</span>
<span class="n">smd_good</span> <span class="o">=</span> <span class="n">calculate_smd</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">covariates_to_balance</span><span class="p">,</span> <span class="s1">&#39;T_Treatment&#39;</span><span class="p">)</span>

<span class="c1"># Calculate SMD for Severe Violation case</span>
<span class="n">smd_violate</span> <span class="o">=</span> <span class="n">calculate_smd</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">covariates_to_balance</span><span class="p">,</span> <span class="s1">&#39;T_Violate_Positivity&#39;</span><span class="p">)</span>

<span class="c1"># Determine a common x-axis limit for both plots</span>
<span class="n">max_smd_abs</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">smd_good</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">smd_violate</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">common_x_limit</span> <span class="o">=</span> <span class="n">max_smd_abs</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="c1"># Add a small buffer</span>

<span class="c1"># Plot SMD for Good Overlap case (subplot 1)</span>
<span class="n">plot_love_plot</span><span class="p">(</span><span class="n">smd_good</span><span class="p">,</span> <span class="s1">&#39;1. Good Overlap&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">x_limit</span><span class="o">=</span><span class="n">common_x_limit</span><span class="p">,</span> <span class="n">dot_color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>

<span class="c1"># Plot SMD for Severe Violation case (subplot 2)</span>
<span class="n">plot_love_plot</span><span class="p">(</span><span class="n">smd_violate</span><span class="p">,</span> <span class="s1">&#39;2. Severe Violation&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">x_limit</span><span class="o">=</span><span class="n">common_x_limit</span><span class="p">,</span> <span class="n">dot_color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>

<span class="c1"># Update overall layout of the figure</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">offline</span><span class="o">.</span><span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.2.0.min.js" integrity="sha256-iZ2u/oU2wf/vDbl/ChcX93WgbBRSBvUO6N413hDz7xM=" crossorigin="anonymous"></script>                <div id="e5e7e36d-55f7-4445-a62b-3bd5ed3fd0f4" class="plotly-graph-div" style="height:500px; width:1000px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e5e7e36d-55f7-4445-a62b-3bd5ed3fd0f4")) {                    Plotly.newPlot(                        "e5e7e36d-55f7-4445-a62b-3bd5ed3fd0f4",                        [{"hovertemplate":"Covariate: %{y}\u003cbr\u003eSMD: %{x:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"skyblue","size":10},"mode":"markers","name":"SMD","x":{"dtype":"f8","bdata":"YGNHAQ6O4D\u002fmxHSkfbnfP\u002fb7kkxAMcQ\u002f\u002fcWd8JRmyz+n4Gl0HHa3PyghJqfT0LW\u002fbMvq6uHKkD9KzQXNFKrAP23doaf+Y60\u002f4\u002fpcy0o\u002foL8="},"xaxis":"x","y":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10"],"yaxis":"y","type":"scatter"},{"hovertemplate":"Covariate: %{y}\u003cbr\u003eSMD: %{x:.4f}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":"skyblue","size":10},"mode":"markers","name":"SMD","x":{"dtype":"f8","bdata":"1knxEcDC\u002fT+gSXz8VR7hPw05rk1qadc\u002foI1iM+ji1D+8psntIA7WPziLb+moHcM\u002fXelW1RJUcb+iEndJuUizP\u002f2+jKvEHrI\u002f7pNGIDpOob8="},"xaxis":"x2","y":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10"],"yaxis":"y2","type":"scatter"}],                        {"annotations":[{"font":{"size":16},"showarrow":false,"text":"1. Good Positivity","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"2. Severe Violation of Positivity","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"showarrow":false,"text":"SMD = 0.1","x":0.1,"xanchor":"left","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"SMD = -0.1","x":-0.1,"xanchor":"right","xref":"x","y":1,"yanchor":"top","yref":"y domain"},{"showarrow":false,"text":"SMD = 0.1","x":0.1,"xanchor":"left","xref":"x2","y":1,"yanchor":"top","yref":"y2 domain"},{"showarrow":false,"text":"SMD = -0.1","x":-0.1,"xanchor":"right","xref":"x2","y":1,"yanchor":"top","yref":"y2 domain"}],"height":500,"shapes":[{"line":{"color":"gray","dash":"dash","width":1},"type":"line","x0":0,"x1":0,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dash","width":1.5},"type":"line","x0":0.1,"x1":0.1,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"red","dash":"dash","width":1.5},"type":"line","x0":-0.1,"x1":-0.1,"xref":"x","y0":0,"y1":1,"yref":"y domain"},{"line":{"color":"gray","dash":"dash","width":1},"type":"line","x0":0,"x1":0,"xref":"x2","y0":0,"y1":1,"yref":"y2 domain"},{"line":{"color":"red","dash":"dash","width":1.5},"type":"line","x0":0.1,"x1":0.1,"xref":"x2","y0":0,"y1":1,"yref":"y2 domain"},{"line":{"color":"red","dash":"dash","width":1.5},"type":"line","x0":-0.1,"x1":-0.1,"xref":"x2","y0":0,"y1":1,"yref":"y2 domain"}],"showlegend":false,"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"width":1000,"xaxis":{"anchor":"y","domain":[0.0,0.45],"range":[-1.9600464535598938,1.9600464535598938],"title":{"text":"Standardized Mean Difference"}},"yaxis":{"anchor":"x","categoryarray":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10"],"categoryorder":"array","domain":[0.0,1.0],"title":{"text":"Covariate"}},"xaxis2":{"anchor":"y2","domain":[0.55,1.0],"range":[-1.9600464535598938,1.9600464535598938],"title":{"text":"Standardized Mean Difference"}},"yaxis2":{"anchor":"x2","categoryarray":["X1","X2","X3","X4","X5","X6","X7","X8","X9","X10"],"categoryorder":"array","domain":[0.0,1.0],"title":{"text":"Covariate"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e5e7e36d-55f7-4445-a62b-3bd5ed3fd0f4');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div></div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "tbluemlein/causalinference",
            ref: "gh-pages",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./tutorial"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="case_study.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Case Study: Simpson’s Paradoxon</p>
      </div>
    </a>
    <a class="right-next"
       href="causal_inference.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Synthetic Health Dataset for Causal Inference Tutorial</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#from-observational-data-to-conditionally-randomized-experiments">From Observational Data to Conditionally Randomized Experiments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-outcomes-framework">Potential Outcomes Framework</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assumptions">Assumptions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#consistency"><strong>(1) Consistency</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stable-unit-treatment-value-assumption-sutva"><strong>(2) Stable Unit Treatment Value Assumption (SUTVA)</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#positivity"><strong>(3) Positivity</strong>:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#exchangeability-no-unobserved-confounding"><strong>(4) Exchangeability (No unobserved confounding)</strong>:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-checks">Validation Checks</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-generation">Data Generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-of-positivity-assumption">Validation of Positivity Assumption</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation-of-exchangeability-assumption">Validation of Exchangeability Assumption</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>